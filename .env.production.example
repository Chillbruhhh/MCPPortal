# MCP Gateway Production Configuration

# ==========================================
# GATEWAY CONFIGURATION
# ==========================================

# Gateway server settings
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=8020
LOG_LEVEL=INFO

# ==========================================
# SECURITY CONFIGURATION
# ==========================================

# API Key for authentication (REQUIRED for production)
API_KEY=your-secure-api-key-here-change-this

# API key header name
API_KEY_HEADER=X-API-Key

# Allowed CORS origins (JSON array)
ALLOWED_ORIGINS=["https://your-domain.com", "https://www.your-domain.com"]

# ==========================================
# MCP SERVERS CONFIGURATION
# ==========================================

# MCP Servers configuration (JSON array)
# The gateway will automatically discover IDE configurations
# Add your production MCP servers here
MCP_SERVERS=[
  {
    "name": "context7",
    "command": "npx",
    "args": ["-y", "@upstash/context7-mcp@latest"],
    "env": {
      "UPSTASH_REDIS_REST_URL": "your-redis-url",
      "UPSTASH_REDIS_REST_TOKEN": "your-redis-token"
    }
  },
  {
    "name": "puppeteer",
    "command": "npx",
    "args": ["-y", "@modelcontextprotocol/server-puppeteer"],
    "env": {
      "PUPPETEER_LAUNCH_OPTIONS": "{\"headless\": true}",
      "ALLOW_DANGEROUS": "true"
    }
  },
  {
    "name": "brave-search",
    "command": "docker",
    "args": ["run", "-i", "--rm", "-e", "BRAVE_API_KEY", "mcp/brave-search"],
    "env": {
      "BRAVE_API_KEY": "your-brave-api-key"
    }
  }
]

# ==========================================
# MONITORING AND HEALTH CHECK SETTINGS
# ==========================================

# Health check interval in seconds
HEALTH_CHECK_INTERVAL=30

# Connection timeout for MCP servers
CONNECTION_TIMEOUT=30

# Maximum retry attempts for failed connections
MAX_RETRIES=3

# ==========================================
# DATABASE CONFIGURATION (Optional)
# ==========================================

# Database URL for persistence (optional)
# DATABASE_URL=sqlite:///app/data/gateway.db
# DATABASE_URL=postgresql://user:password@localhost:5432/mcpgateway

# ==========================================
# THIRD-PARTY SERVICE CONFIGURATION
# ==========================================

# Upstash Redis (for Context7 MCP Server)
UPSTASH_REDIS_REST_URL=your-redis-url
UPSTASH_REDIS_REST_TOKEN=your-redis-token

# Brave Search API
BRAVE_API_KEY=your-brave-api-key

# GitHub Personal Access Token (for GitHub MCP Server)
GITHUB_PERSONAL_ACCESS_TOKEN=your-github-token

# Supabase Configuration (for Supabase MCP Server)
SUPABASE_URL=your-supabase-url
SUPABASE_SERVICE_KEY=your-supabase-service-key

# ==========================================
# DOCKER COMPOSE OVERRIDES
# ==========================================

# Used by docker-compose.prod.yml
# Override MCP_SERVERS if needed
# MCP_SERVERS=[{"name": "production-server", "url": "https://your-mcp-server.com"}]

# Override ALLOWED_ORIGINS if needed
# ALLOWED_ORIGINS=["https://your-domain.com"] 